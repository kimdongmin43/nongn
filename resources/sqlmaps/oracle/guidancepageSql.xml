<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="GuidancepageDao">

	<select id="selectGuidancepage" parameterType="Map" resultType="camelMap">
		/* kr.apfs.local.guidancepage.dao.impl.GuidancepageDao.selectGuidancepage */
				SELECT
			    a.cont_id as cont_id_1
			    ,a.contents as contents_1
			    ,a.title as title_1
			    ,b.cont_id as cont_id_2
			    ,b.contents as contents_2
			    ,b.title as title_2
			    ,c.cont_id as cont_id_3
			    ,c.contents as contents_3
			    ,c.title as title_3
			    ,d.cont_id as cont_id_4
			    ,d.contents as contents_4
			    ,d.title as title_4
			    ,e.cont_id as cont_id_5
			    ,e.contents as contents_5
			    ,e.title as title_5
			    ,f.cont_id as cont_id_6
			    ,f.contents as contents_6
			    ,f.title as title_6
			FROM
			TS_MENUcontents a
			JOIN TS_MENUcontents b
			ON
			b.menu_cls_cd = '12'
			AND b.sort = '2'
			AND b.site_id = #{*siteId}
			JOIN TS_MENUcontents c
			ON
			c.menu_cls_cd = '12'
			AND c.sort = '3'
			AND c.site_id = #{*siteId}
			JOIN TS_MENUcontents d
			ON
			d.menu_cls_cd = '12'
			AND d.sort = '4'
			AND d.site_id = #{*siteId}
			JOIN TS_MENUcontents e
			ON
			e.menu_cls_cd = '12'
			AND e.sort = '5'
			AND e.site_id = #{*siteId}
			JOIN TS_MENUcontents f
			ON
			f.menu_cls_cd = '12'
			AND f.sort = '6'
			AND f.site_id = #{*siteId}
			WHERE
			1=1
			AND a.menu_cls_cd = '12'
			AND a.sort = '1'
			AND a.site_id = #{*siteId}
	</select>

	<select id="selectGuidancepage2" parameterType="Map" resultType="camelMap">
			/*
			kr.apfs.local.guidancepage.dao.impl.GuidancepageDao.selectGuidancepage
			*/

					SELECT

			title
			,contents
			,cont_id

			FROM
			TS_MENUcontents

			WHERE
			1=1
			AND menu_cls_cd = '12'
			AND site_id = #{*siteId}
		</select>


	<insert id="insertGuidancepage" parameterType="Map" >
		INSERT INTO TS_MENUcontents
		(
			site_id
			,menu_cls_cd
			,title
			,contents
			,reg_user_id
			,reg_dt
			,sort
		)
		VALUES
		(
			#{*siteId}
			,'12'
			,#{title}
			,#{contents}
			,#{*userId}
			,TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')
			,#{sort}
		)


	</insert>




	<update id="updateGuidancepage" parameterType="Map" >
	    /* kr.apfs.local.guidancepage.dao.impl.GuidancepageDao.updateGuidancepage */
	    UPDATE
	 		ts_menucontents
		SET
				title = #{title}
				,contents = #{contents}
				,upd_user_id = #{*userId}
				,upd_dt = TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS')
		WHERE  cont_id = #{contId}
	</update>

	<select id = "selectGuidancepageExist" parameterType = "Map" resultType="integer">
		SELECT
			COUNT(*)
		FROM
			TS_MENUcontents
		WHERE
		1=1
		AND cont_id = #{contId1}
	</select>
</mapper>
